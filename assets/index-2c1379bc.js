var G=Object.defineProperty;var C=(i,e,t)=>e in i?G(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var l=(i,e,t)=>(C(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();class u{static coordinatesEqual(e,t){if(!e||!t)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}static hasStartAndEnd(e,t){return!!(e&&t)}static walkBackCoordinates(e,t){let[s,r]=[e[0],e[1]],n=t[s][r].parent;if(n){let a=[n.row,n.col];return[...this.walkBackCoordinates(a,t),[s,r]]}else return[[s,r]]}}class w{constructor(e,t,s){l(this,"type");l(this,"wasChecked");l(this,"parent");l(this,"row");l(this,"col");l(this,"neighbors");l(this,"classes");this.type=null,this.wasChecked=!1,this.parent=null,this.row=e,this.col=t,this.neighbors=s,this.classes=[]}getNodeDiv(){let e=document.createElement("div");return e.setAttribute("coordinate",`${this.row}-${this.col}`),e.classList.add("node"),this.type&&e.classList.add(`${this.type}`),this.classes.length>0&&this.classes.forEach(t=>{e.classList.add(t)}),e}}class q{constructor(e){l(this,"htmlEl");l(this,"grid");l(this,"start");l(this,"end");this.htmlEl=e,this.start=null,this.end=null,this.grid=this.createGrid()}createGrid(){const e=[];let t=Math.floor(window.innerWidth/20),s=Math.floor((window.innerHeight-150)/20);for(let r=0;r<s;r++){e[r]=[];for(let n=0;n<t;n++)e[r][n]=new w(r,n,S(r,n,t-1,s-1))}return e}async displayGrid(e){if(e&&await P(e),this.htmlEl){let t=Math.floor(window.innerWidth/20)*20;this.htmlEl.innerHTML="",this.htmlEl.style.width=`${t}px`;for(let s of this.grid)for(let r of s)this.htmlEl.append(r.getNodeDiv())}}async walkBackPathMarking(e){let[t,s]=[];for(let r of e)[t,s]=[r[0],r[1]],this.grid[t][s].type!=="start"&&this.grid[t][s].type!=="end"&&(this.grid[t][s].type="path"),await this.displayGrid(35)}selectStartNode(e,t){this.start?u.coordinatesEqual([e,t],this.start)?(this.grid[e][t].type=null,this.start=null):(this.grid[this.start[0]][this.start[1]].type=null,this.grid[e][t].type="start",this.start=[e,t]):(this.grid[e][t].type="start",this.start=[e,t])}selectEndNode(e,t){this.end?u.coordinatesEqual([e,t],this.end)?(this.grid[e][t].type=null,this.end=null):(this.grid[this.end[0]][this.end[1]].type=null,this.grid[e][t].type="end",this.end=[e,t]):(this.grid[e][t].type="end",this.end=[e,t])}selectWallNode(e,t){!this.grid[e][t].type&&!u.coordinatesEqual([e,t],this.start)&&!u.coordinatesEqual([e,t],this.end)?this.grid[e][t].type="wall":this.grid[e][t].type&&!u.coordinatesEqual([e,t],this.start)&&!u.coordinatesEqual([e,t],this.end)&&(this.grid[e][t].type=null)}}function P(i){return new Promise(e=>setTimeout(e,i))}function S(i,e,t,s){return e==0||e==t?i==0?e==0?[[i,e+1],[i+1,e]]:[[i+1,e],[i,e-1]]:i==s?e==0?[[i,e+1],[i-1,e]]:[[i,e-1],[i-1,e]]:e==0?[[i,e+1],[i+1,e],[i-1,e]]:[[i+1,e],[i,e-1],[i-1,e]]:i==0||i==s?i==0?[[i,e+1],[i+1,e],[i,e-1]]:[[i,e+1],[i,e-1],[i-1,e]]:[[i,e+1],[i+1,e],[i,e-1],[i-1,e]]}async function M(i,e,t){let s=t.grid,r=[i],n=!1;do{let[a,o]=[r[0][0],r[0][1]];s[a][o].classes.push("checked"),await t.displayGrid(35);for(let p=0;p<s[a][o].neighbors.length;p++){let c=s[a][o].neighbors[p],h=s[c[0]][c[1]];if(u.coordinatesEqual(c,e)){h.parent=s[a][o],n=!0;break}else!h.wasChecked&&h.type!=="start"&&h.type!=="wall"&&(r.push(c),h.wasChecked=!0,h.parent=s[a][o],h.classes.push("queued"),await t.displayGrid(1))}r=r.slice(1)}while(!n);return u.walkBackCoordinates(e,s)}let y=document.querySelector("#AlgoSelect"),g=document.querySelector("#StartFinder"),m=document.querySelector("#ClearFinder"),d=new q(document.getElementById("Grid"));d.displayGrid();let f=null;window.onkeydown=function(i){f=i.key};window.onkeyup=function(){f=null};var v;(v=d.htmlEl)==null||v.addEventListener("click",function(i){var r;let e=(r=i.target)==null?void 0:r.attributes[0].value.split("-"),[t,s]=[Number(e[0]),Number(e[1])];f=="s"?(d.selectStartNode(t,s),d.displayGrid()):f=="e"&&(d.selectEndNode(t,s),d.displayGrid())});let E=!1,k=[-1,-1];var N;(N=d.htmlEl)==null||N.addEventListener("mousedown",()=>{E=!0});var b;(b=d.htmlEl)==null||b.addEventListener("mouseup",()=>{E=!1});var L;(L=d.htmlEl)==null||L.addEventListener("mousemove",i=>{var r;if(!E)return;let e=(r=i.target)==null?void 0:r.attributes[0].value.split("-"),[t,s]=[Number(e[0]),Number(e[1])];f=="w"&&!u.coordinatesEqual(k,[t,s])&&(d.selectWallNode(t,s),d.displayGrid(),k=[t,s])});g==null||g.addEventListener("click",function(i){i.preventDefault(),(y==null?void 0:y.value)!=""?new Promise((t,s)=>{d.start&&d.end&&t(M(d.start,d.end,d)),s("This was rejected?")}).then(t=>{d.walkBackPathMarking(t)}):alert("You didn't select a search type thing")});m==null||m.addEventListener("click",function(){location.reload()});window.addEventListener("resize",function(){d=new q(document.getElementById("Grid")),d.displayGrid()});
