var G=Object.defineProperty;var C=(s,e,t)=>e in s?G(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var d=(s,e,t)=>(C(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();class u{static coordinatesEqual(e,t){if(!e||!t)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}static hasStartAndEnd(e,t){return!!(e&&t)}static walkBackCoordinates(e,t){let[i,r]=[e[0],e[1]],n=t[i][r].parent;if(n){let a=[n.row,n.col];return[...this.walkBackCoordinates(a,t),[i,r]]}else return[[i,r]]}}class S{constructor(e,t,i){d(this,"type");d(this,"wasChecked");d(this,"parent");d(this,"row");d(this,"col");d(this,"neighbors");d(this,"classes");this.type=null,this.wasChecked=!1,this.parent=null,this.row=e,this.col=t,this.neighbors=i,this.classes=[]}getNodeDiv(){let e=document.createElement("div");return e.setAttribute("coordinate",`${this.row}-${this.col}`),e.classList.add("node"),this.classes.length>1&&e.classList.add(...this.classes),this.type&&e.classList.add(`${this.type}`),e}getClasses(){let e="";return this.classes.forEach(t=>e+=` ${t}`),e}}class q{constructor(e){d(this,"htmlEl");d(this,"grid");d(this,"start");d(this,"end");this.htmlEl=e,this.start=null,this.end=null,this.grid=this.createGrid()}createGrid(){const e=[];let t=Math.floor(window.innerWidth/20),i=Math.floor((window.innerHeight-150)/20);for(let r=0;r<i;r++){e[r]=[];for(let n=0;n<t;n++)e[r][n]=new S(r,n,P(r,n,t-1,i-1))}return e}displayGrid(){if(this.htmlEl){let e=Math.floor(window.innerWidth/20)*20;this.htmlEl.innerHTML="",this.htmlEl.style.width=`${e}px`;for(let t of this.grid)for(let i of t)this.htmlEl.append(i.getNodeDiv())}}async walkBackPathMarking(e){let[t,i]=[];for(let r of e)[t,i]=[r[0],r[1]],this.grid[t][i].type!=="start"&&this.grid[t][i].type!=="end"&&(this.grid[t][i].type="path"),await M(50),this.displayGrid()}selectStartNode(e,t){this.start?u.coordinatesEqual([e,t],this.start)?(this.grid[e][t].type=null,this.start=null):(this.grid[this.start[0]][this.start[1]].type=null,this.grid[e][t].type="start",this.start=[e,t]):(this.grid[e][t].type="start",this.start=[e,t])}selectEndNode(e,t){this.end?u.coordinatesEqual([e,t],this.end)?(this.grid[e][t].type=null,this.end=null):(this.grid[this.end[0]][this.end[1]].type=null,this.grid[e][t].type="end",this.end=[e,t]):(this.grid[e][t].type="end",this.end=[e,t])}selectWallNode(e,t){!this.grid[e][t].type&&!u.coordinatesEqual([e,t],this.start)&&!u.coordinatesEqual([e,t],this.end)?this.grid[e][t].type="wall":this.grid[e][t].type&&!u.coordinatesEqual([e,t],this.start)&&!u.coordinatesEqual([e,t],this.end)&&(this.grid[e][t].type=null)}}function M(s){return new Promise(e=>setTimeout(e,s))}function P(s,e,t,i){return e==0||e==t?s==0?e==0?[[s,e+1],[s+1,e]]:[[s+1,e],[s,e-1]]:s==i?e==0?[[s,e+1],[s-1,e]]:[[s,e-1],[s-1,e]]:e==0?[[s,e+1],[s+1,e],[s-1,e]]:[[s+1,e],[s,e-1],[s-1,e]]:s==0||s==i?s==0?[[s,e+1],[s+1,e],[s,e-1]]:[[s,e+1],[s,e-1],[s-1,e]]:[[s,e+1],[s+1,e],[s,e-1],[s-1,e]]}function F(s,e,t){let i=t,r=[s],n=!1;do{let[a,o]=[r[0][0],r[0][1]];i[a][o].classes.push("checked");for(let p=0;p<i[a][o].neighbors.length;p++){let c=i[a][o].neighbors[p],h=i[c[0]][c[1]];if(u.coordinatesEqual(c,e)){h.parent=i[a][o],n=!0;break}else!h.wasChecked&&h.type!=="start"&&h.type!=="wall"&&(r.push(c),h.wasChecked=!0,h.parent=i[a][o],h.classes.push("queued"))}r=r.slice(1)}while(!n);return u.walkBackCoordinates(e,i)}let y=document.querySelector("#AlgoSelect"),g=document.querySelector("#StartFinder"),m=document.querySelector("#ClearFinder"),l=new q(document.getElementById("Grid"));l.displayGrid();let f=null;window.onkeydown=function(s){f=s.key};window.onkeyup=function(){f=null};var v;(v=l.htmlEl)==null||v.addEventListener("click",function(s){var r;let e=(r=s.target)==null?void 0:r.attributes[0].value.split("-"),[t,i]=[Number(e[0]),Number(e[1])];f=="s"?(l.selectStartNode(t,i),l.displayGrid()):f=="e"&&(l.selectEndNode(t,i),l.displayGrid())});let E=!1,k=[-1,-1];var N;(N=l.htmlEl)==null||N.addEventListener("mousedown",()=>{E=!0});var b;(b=l.htmlEl)==null||b.addEventListener("mouseup",()=>{E=!1});var L;(L=l.htmlEl)==null||L.addEventListener("mousemove",s=>{var r;if(!E)return;let e=(r=s.target)==null?void 0:r.attributes[0].value.split("-"),[t,i]=[Number(e[0]),Number(e[1])];f=="w"&&!u.coordinatesEqual(k,[t,i])&&(l.selectWallNode(t,i),l.displayGrid(),k=[t,i])});g==null||g.addEventListener("click",function(s){if(s.preventDefault(),(y==null?void 0:y.value)!=""){if(l.start&&l.end){let e=F(l.start,l.end,l.grid);l.walkBackPathMarking(e)}}else alert("You didn't select a search type thing")});m==null||m.addEventListener("click",function(){location.reload()});window.addEventListener("resize",function(){l=new q(document.getElementById("Grid")),l.displayGrid()});
